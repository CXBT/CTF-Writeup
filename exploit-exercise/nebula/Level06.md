# Level 06

## Plot

### About

The flag06 account credentials came from a legacy unix system.

To do this level, log in as the level06 account with the password level06. Files for this level can be found in /home/flag06.

## Legacy Unix의 계정 체계

```text
level06@nebula:/home/flag06$ cat /etc/passwd
...
level04:x:1005:1005::/home/level04:/bin/sh
flag04:x:995:995::/home/flag04:/bin/sh
level05:x:1006:1006::/home/level05:/bin/sh
flag05:x:994:994::/home/flag05:/bin/sh
level06:x:1007:1007::/home/level06:/bin/sh
flag06:ueqwOCnSGdsuM:993:993::/home/flag06:/bin/sh
level07:x:1008:1008::/home/level07:/bin/sh
flag07:x:992:992::/home/flag07:/bin/sh
...
```

위에는 문제 풀이 서버의 `/etc/passwd` 내용 중 일부이다. `flag06` 항목을 잘 보면, 다른 계정 항목과는 달리 `x`로 된 부분이 `ueqwOCnSGdsuM`로 되어 있다. 일반적으로 리눅스는 패스워드 정보는 `/etc/shadow` 파일에 암호화해서 저장해 놓지만 예전 유닉스는 `/etc/passwd`에 해쉬로 만들어서 저장한다고 한다. 이 해쉬를 [`John the ripper`](http://www.openwall.com/john/)라는 툴을 쓰면 패스워드를 복원할 수 있다.

```text
dsm2018@CXBT:Desktop$ echo "flag06:ueqwOCnSGdsuM:993:993::/home/flag06:/bin/sh" > passwd
dsm2018@CXBT:Desktop$ john passwd
Loaded 1 password hash (descrypt, traditional crypt(3) [DES 128/128 SSE2-16])
Press 'q' or Ctrl-C to abort, almost any other key for status
nice: Operation not permitted
nice: Operation not permitted
hello            (flag06)
1g 0:00:00:00 100% 2/3 6.250g/s 4706p/s 4706c/s 4706C/s 123456..marley
Use the "--show" option to display all of the cracked passwords reliably
Session completed
```

`John the Ripper` 썼더니 패스워드가 `hello`라고 친절하게 나온다ㅋ

```text
level06@nebula:~$ su flag06
Password:
sh-4.2$ getflag
You have successfully executed getflag on a target account
```